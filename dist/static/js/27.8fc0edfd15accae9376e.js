webpackJsonp([27,81],{1108:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(414),o=i.n(n),s=i(443),r=i.n(s),a=i(536),l=i(602),c=i.n(l),p=i(95);e.default={name:"logisticsManagement",data:function(){return{tableData:[],isLoaded:!1,logisticsInfo:{}}},components:{showMore:c.a},mounted:function(){var t=this;a.a.getLogisticsDetail({id:this.$route.params.lid}).then(function(e){t.isLoaded=!0,t.$store.commit("SET_LOGISTICS_INFO",e.data.data),t.tableData=t.logisticsInfoWrap.logistFreightDetails,t.logisticsInfo=t.logisticsInfoWrap.logistFreight}),a.a.getZhouAndCountry().then(function(e){t.$store.commit("CACHE_ZHOUS",e.data.data)})},computed:r()({},i.i(p.b)({logisticsInfoWrap:"logisticsInfo"}),{vmTable:function(){var t=[],e=!0,i=!1,n=void 0;try{for(var s,r=o()(this.tableData);!(e=(s=r.next()).done);e=!0){var a=s.value;a.deleteTag||t.push(a)}}catch(t){i=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw n}}return t}}),methods:{cancel:function(){this.$router.push({path:"/logisticsManagement"})},save:function(){var t=this,e={id:this.logisticsInfo.id,name:this.logisticsInfo.name,sendArea:"China",priceUnit:"USD"};for(var i in this.tableData)e["logistFreightDetail["+i+"].id"]=this.tableData[i].id,e["logistFreightDetail["+i+"].freightBear"]=this.tableData[i].freightBear,e["logistFreightDetail["+i+"].receiveCountrys"]=this.tableData[i].receiveCountrys,e["logistFreightDetail["+i+"].settingMode"]=this.tableData[i].settingMode,e["logistFreightDetail["+i+"].firstNum"]=this.tableData[i].firstNum,e["logistFreightDetail["+i+"].firstAmount"]=this.tableData[i].firstAmount/100,e["logistFreightDetail["+i+"].nextNum"]=this.tableData[i].nextNum,e["logistFreightDetail["+i+"].nextAmount"]=this.tableData[i].nextAmount/100,e["logistFreightDetail["+i+"].deleteTag"]=this.tableData[i].deleteTag;a.a.updateFreight(e).then(function(e){t.$message({message:"修改成功!",type:"success"}),t.$router.push({path:"/logisticsManagement"})})},setAddress:function(t){this.$store.commit("SET_FROM_PAGE","edit"),this.$store.commit("SET_EDIT_INDEX",t),this.$router.push({path:"/logisticsSetAddress"})},addFreight:function(){this.$store.commit("SET_FROM_PAGE","add"),this.$router.push({path:"/logisticsSetAddress"})},deleteFreight:function(t){this.$store.commit("DELETE_TEMP_I",t)}}}},1275:function(t,e,i){e=t.exports=i(88)(),e.push([t.i,".opt-btns{text-align:center}.logistic-edit-container{width:100%;min-height:600px;background:#fff;box-shadow:0 0 6px rgba(0,0,0,.06);border-radius:6px;overflow:hidden}.logistic-edit-container .l-sub-title{color:#33475b;font-size:14px;margin:24px 15px}.logistic-edit-container .temp-input{height:34px;width:240px;border-radius:4px;border:1px solid #cbd6e3;padding-left:10px}.logistic-edit-container .from{color:#33475b;font-size:14px;margin:30px}.logistic-edit-container .table-temp{margin:0 24px}.logistic-edit-container .table-temp .el-table__header-wrapper thead div,.logistic-edit-container .table-temp .el-table th{background:#f5f8fa}.logistic-edit-container .table-temp .el-table td{vertical-align:top}.logistic-edit-container .table-temp .el-table .cell{padding:16px;color:#33475b}.logistic-edit-container .table-temp .operate-btn{color:#5488f9;font-size:13px;margin-left:16px;cursor:pointer}.logistic-edit-container .add-temp{color:#5488f9;font-size:14px;text-align:center;border:1px solid #dfe3eb;padding:31px 0;margin:0 24px;cursor:pointer;border-radius:4px}.logistic-edit-container .add-tip{color:#b0c1d4;font-size:13px;margin:8px 24px}","",{version:3,sources:["/Users/kaijieqian/longxiWorkspace/b2b-seller4.0/src/views/orderLogistics/logistics/logisticsEdit.vue"],names:[],mappings:"AACA,UACE,iBAAmB,CACpB,AACD,yBACE,WAAY,AACZ,iBAAkB,AAClB,gBAAkB,AAClB,mCAA4C,AAC5C,kBAAmB,AACnB,eAAiB,CAClB,AACD,sCACE,cAAe,AACf,eAAgB,AAChB,gBAAkB,CACnB,AACD,qCACE,YAAa,AACb,YAAa,AACb,kBAAmB,AACnB,yBAA0B,AAC1B,iBAAmB,CACpB,AACD,+BACE,cAAe,AACf,eAAgB,AAChB,WAAa,CACd,AACD,qCACE,aAAe,CAChB,AACD,2HAEE,kBAAoB,CACrB,AACD,kDACE,kBAAoB,CACrB,AACD,qDACE,aAAc,AACd,aAAe,CAChB,AACD,kDACE,cAAe,AACf,eAAgB,AAChB,iBAAkB,AAClB,cAAgB,CACjB,AACD,mCACE,cAAe,AACf,eAAgB,AAChB,kBAAmB,AACnB,yBAA0B,AAC1B,eAAgB,AAChB,cAAe,AACf,eAAgB,AAChB,iBAAmB,CACpB,AACD,kCACE,cAAe,AACf,eAAgB,AAChB,eAAiB,CAClB",file:"logisticsEdit.vue",sourcesContent:["\n.opt-btns {\n  text-align: center;\n}\n.logistic-edit-container {\n  width: 100%;\n  min-height: 600px;\n  background: white;\n  box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.06);\n  border-radius: 6px;\n  overflow: hidden;\n}\n.logistic-edit-container .l-sub-title {\n  color: #33475B;\n  font-size: 14px;\n  margin: 24px 15px;\n}\n.logistic-edit-container .temp-input {\n  height: 34px;\n  width: 240px;\n  border-radius: 4px;\n  border: 1px solid #CBD6E3;\n  padding-left: 10px;\n}\n.logistic-edit-container .from {\n  color: #33475B;\n  font-size: 14px;\n  margin: 30px;\n}\n.logistic-edit-container .table-temp {\n  margin: 0 24px;\n}\n.logistic-edit-container .table-temp .el-table__header-wrapper thead div,\n.logistic-edit-container .table-temp .el-table th {\n  background: #F5F8FA;\n}\n.logistic-edit-container .table-temp .el-table td {\n  vertical-align: top;\n}\n.logistic-edit-container .table-temp .el-table .cell {\n  padding: 16px;\n  color: #33475B;\n}\n.logistic-edit-container .table-temp .operate-btn {\n  color: #5488F9;\n  font-size: 13px;\n  margin-left: 16px;\n  cursor: pointer;\n}\n.logistic-edit-container .add-temp {\n  color: #5488F9;\n  font-size: 14px;\n  text-align: center;\n  border: 1px solid #DFE3EB;\n  padding: 31px 0;\n  margin: 0 24px;\n  cursor: pointer;\n  border-radius: 4px;\n}\n.logistic-edit-container .add-tip {\n  color: #B0C1D4;\n  font-size: 13px;\n  margin: 8px 24px;\n}\n"],sourceRoot:""}])},1463:function(t,e,i){var n=i(1275);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(316)("76c87ec8",n,!0)},1772:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"logistic-edit-container"},[i("div",{staticClass:"l-sub-title"},[t._v("\n      运费模板:\n      "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.logisticsInfo.name,expression:"logisticsInfo.name"}],staticClass:"temp-input",attrs:{type:"text",placeholder:"请输入运费模版名称"},domProps:{value:t.logisticsInfo.name},on:{input:function(e){e.target.composing||(t.logisticsInfo.name=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"from"},[t._v("发货地： china")]),t._v(" "),t.isLoaded?i("div",{staticClass:"table-temp"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.vmTable,"show-header":!1}},[i("el-table-column",{attrs:{prop:"id",label:"模板2"},scopedSlots:t._u([["default",function(e){return[t._v("\n            "+t._s(e.$index+1)+"\n          ")]}]])}),t._v(" "),i("el-table-column",{attrs:{prop:"receiveCountrys",width:"600",label:"运送到"},scopedSlots:t._u([["default",function(t){return[i("div",{staticClass:"countries-wrap"},[i("show-more",{attrs:{text:t.row.receiveCountrys,len:260}})],1)]}]])}),t._v(" "),i("el-table-column",{attrs:{prop:"freightBear",label:"模板"},scopedSlots:t._u([["default",function(e){return[1===e.row.freightBear?i("span",[t._v("卖家承担运费")]):t._e(),t._v(" "),0===e.row.freightBear?i("span",[t._v("自定义运费")]):t._e()]}]])}),t._v(" "),i("el-table-column",{attrs:{prop:"id",label:"操作"},scopedSlots:t._u([["default",function(e){return[i("span",{staticClass:"operate-btn",on:{click:function(i){t.setAddress(e.$index)}}},[t._v("编辑")]),t._v(" "),i("span",{staticClass:"operate-btn",on:{click:function(i){t.deleteFreight(e.$index)}}},[t._v("删除")])]}]])})],1)],1):t._e(),t._v(" "),i("div",{staticClass:"add-temp",on:{click:t.addFreight}},[i("span",{staticClass:"icon-font",staticStyle:{color:"black"}},[t._v("")]),t._v("\n      添加一个运费组合\n    ")]),t._v(" "),t._m(0)]),t._v(" "),i("div",{staticClass:"opt-btns"},[i("div",{staticClass:"cancel-btn",on:{click:t.cancel}},[t._v("取消")]),t._v(" "),i("div",{staticClass:"save-btn",on:{click:t.save}},[t._v("保存")])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"add-tip"},[i("span",{staticClass:"icon-font",staticStyle:{color:"#FFB822"}},[t._v("")]),t._v("\n    若买家不在我设定的运送国家或地区内，运费组合中不包含的国家/地区将设置为不发货。")])}]}},381:function(t,e,i){i(1463);var n=i(89)(i(1108),i(1772),null,null);t.exports=n.exports},414:function(t,e,i){t.exports={default:i(427),__esModule:!0}},427:function(t,e,i){i(94),i(90),t.exports=i(428)},428:function(t,e,i){var n=i(16),o=i(93);t.exports=i(11).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},443:function(t,e,i){"use strict";e.__esModule=!0;var n=i(91),o=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}},536:function(t,e,i){"use strict";var n=i(10),o={getLogisticsTmpl:function(t){return n.a.get("https://server.onloon.cc/bshop/logistics/freighttemplate/list",t)},getZhouAndCountry:function(t){return n.a.get("https://server.onloon.cc/bshop/config/continent/listwithcountrys",t)},deleteTmpl:function(t){return n.a.get("https://server.onloon.cc/bshop/logistics/freighttemplate/delete",t)},updateFreight:function(t){return n.a.post("https://server.onloon.cc/bshop/logistics/freighttemplate/update",t)},addFreight:function(t){return n.a.post("https://server.onloon.cc/bshop/logistics/freighttemplate/add",t)},setDefaultTmpl:function(t){return n.a.get("https://server.onloon.cc/bshop/logistics/freighttemplate/setdefault",t)},getLogisticsDetail:function(t){return n.a.get("https://server.onloon.cc/bshop/logistics/freighttemplate/detail",t)},isBindAccount:function(t){return n.a.get("https://server.onloon.cc/bshop/capital/paypal/querydetail",t)},getStatisticsData:function(){return n.a.get("https://server.onloon.cc/bshop/capital/shop/statistics")},bindAccount:function(){var t=location.protocol+"//"+window.location.host+"/#/back/2/",e={callbackHtml:t};return n.a.get("https://server.onloon.cc/bshop/capital/paypal/binding",e)},removeAccount:function(){return n.a.post("https://server.onloon.cc/bshop/capital/paypal/remove")},getTransactionList:function(t){return n.a.get("https://server.onloon.cc/bshop/capital/shop/flowpage",t)}};e.a=o},557:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{isFilter:!0,that:this,isShowMore:!1,showMoreText:"展开"}},props:{text:String,type:{type:Number,default:-1},len:Number},methods:{replaceReg:function(t,e){return e.replace(t,function(t){return'<a href="'+t+'" target="_blank">'+t+"</a>"})},filterStr:function(){var t="";if(null===this.text)return"";t=this.text;var e=new RegExp("((https|http)://)[A-Za-z0-9.-_]+\\.[A-Za-z0-9-_%&?/.=]+","gi");return t=this.replaceReg(e,t),this.text.length>this.len&&this.isFilter?(this.isShowMore=!0,t.substring(0,this.len)+"..."):t},showMore:function(t){t.stopPropagation(),"展开"===this.showMoreText?(this.isFilter=!1,this.showMoreText="收起"):(this.isFilter=!0,this.showMoreText="展开")}}}},558:function(t,e,i){e=t.exports=i(88)(),e.push([t.i,".describe{line-height:16px}.describe span a{text-decoration:none}.describe a{color:#4a90e2;text-decoration:underline;cursor:pointer}","",{version:3,sources:["/Users/kaijieqian/longxiWorkspace/b2b-seller4.0/src/components/showMore.vue"],names:[],mappings:"AACA,UACE,gBAAkB,CACnB,AACD,iBACE,oBAAsB,CACvB,AACD,YACE,cAAe,AACf,0BAA2B,AAC3B,cAAgB,CACjB",file:"showMore.vue",sourcesContent:["\n.describe {\n  line-height: 16px;\n}\n.describe span a {\n  text-decoration: none;\n}\n.describe a {\n  color: #4a90e2;\n  text-decoration: underline;\n  cursor: pointer;\n}\n"],sourceRoot:""}])},599:function(t,e,i){var n=i(558);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(316)("5a6d6634",n,!0)},602:function(t,e,i){i(599);var n=i(89)(i(557),i(603),null,null);t.exports=n.exports},603:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"describe"},[i("span",{domProps:{innerHTML:t._s(t.filterStr())}}),t._v(" "),t.isShowMore?i("a",{staticClass:"showMore",domProps:{textContent:t._s(t.showMoreText)},on:{click:function(e){t.showMore(e)}}}):t._e()])},staticRenderFns:[]}}});
//# sourceMappingURL=27.8fc0edfd15accae9376e.js.map