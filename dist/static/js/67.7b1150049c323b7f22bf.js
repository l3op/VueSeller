webpackJsonp([67],{1216:function(e,t,n){t=e.exports=n(88)(),t.push([e.i,".topMenu{width:1200px;margin:0 auto;border-bottom:1px solid #dfe3eb;margin-bottom:16px}.topMenu .top-title{font-size:20px;color:#33475b;margin-top:20px}.topMenu .menu a{margin-left:2%}.topMenu .menu li{display:inline-block;font-size:14px;padding:16px 0 10px;line-height:18px;cursor:pointer;color:#7c98b6}.topMenu .menu li .icon-active{display:none}.topMenu .menu li:hover{color:#5488f9}.topMenu .menu a:first-child{margin-left:0}.topMenu .menu .icon,.topMenu .menu [class^=icon]{margin-right:5px}.topMenu .menu .curr{border-bottom:4px solid #5488f9;color:#5488f9}.topMenu .menu .curr .icon-unactive{display:none}.topMenu .menu .curr .icon-active{display:inline-block}.router-view{width:1200px;margin:0 auto}#email_marketing.operate-container{float:right;margin-top:0;font-size:0}#email_marketing.operate-container a{margin-left:0}#email_marketing.operate-container .email-search{width:240px;margin-right:16px}#email_marketing.operate-container .email-search .el-icon-search:hover+.el-input__inner{border-color:#cbd6e3}#email_marketing.operate-container .el-autocomplete{width:240px;margin-right:10px}#email_marketing.operate-container .el-autocomplete .el-input__inner{height:34px;font-size:13px}#email_marketing.operate-container .el-autocomplete .el-input-group__append{padding:0 10px}#email_marketing.operate-container .el-autocomplete .el-input-group__append .contact-list-search{padding:9px 8px}#email_marketing.operate-container .el-button{font-size:13px}.topMenu .menu li{position:relative}.topMenu .menu li .mark{position:absolute;right:-27px;top:2px;background:#ff3b6e;color:#fff;font-size:12px;padding:2px 3px;border-radius:2px;-webkit-transform:scale(.75);transform:scale(.75)}","",{version:3,sources:["/Users/kaijieqian/longxiWorkspace/b2b-seller4.0/src/components/subNavBars/CustomerDevBar.vue"],names:[],mappings:"AAGA,SACE,aAAc,AACd,cAAe,AACf,gCAAiC,AACjC,kBAAoB,CACrB,AACD,oBACE,eAAgB,AAChB,cAAe,AACf,eAAiB,CAClB,AACD,iBACE,cAAgB,CACjB,AACD,kBACE,qBAAsB,AACtB,eAAgB,AAChB,oBAAuB,AACvB,iBAAkB,AAElB,eAAgB,AAChB,aAAe,CAChB,AACD,+BACE,YAAc,CACf,AACD,wBACE,aAAe,CAChB,AACD,6BACE,aAAe,CAChB,AACD,kDAEE,gBAAkB,CACnB,AACD,qBACE,gCAAiC,AACjC,aAAe,CAChB,AACD,oCACE,YAAc,CACf,AACD,kCACE,oBAAsB,CACvB,AACD,aACE,aAAc,AACd,aAAe,CAChB,AACD,mCACE,YAAa,AACb,aAAgB,AAChB,WAAe,CAChB,AACD,qCACE,aAAiB,CAClB,AACD,iDACE,YAAa,AACb,iBAAmB,CACpB,AACD,wFACE,oBAAsB,CACvB,AACD,oDACE,YAAa,AACb,iBAAmB,CACpB,AACD,qEACE,YAAa,AACb,cAAgB,CACjB,AACD,4EACE,cAAkB,CACnB,AACD,iGACE,eAAiB,CAClB,AACD,8CACE,cAAgB,CACjB,AACD,kBACE,iBAAmB,CACpB,AACD,wBACE,kBAAmB,AACnB,YAAa,AACb,QAAS,AACT,mBAAoB,AACpB,WAAY,AACZ,eAAgB,AAChB,gBAAiB,AACjB,kBAAmB,AACnB,6BAA+B,AACvB,oBAAuB,CAChC",file:"CustomerDevBar.vue",sourcesContent:['/**\n * 二级菜单样式\n */\n.topMenu {\n  width: 1200px;\n  margin: 0 auto;\n  border-bottom: 1px solid #dfe3eb;\n  margin-bottom: 16px;\n}\n.topMenu .top-title {\n  font-size: 20px;\n  color: #33475B;\n  margin-top: 20px;\n}\n.topMenu .menu a {\n  margin-left: 2%;\n}\n.topMenu .menu li {\n  display: inline-block;\n  font-size: 14px;\n  padding: 16px 0 10px 0;\n  line-height: 18px;\n  position: relative;\n  cursor: pointer;\n  color: #7C98B6;\n}\n.topMenu .menu li .icon-active {\n  display: none;\n}\n.topMenu .menu li:hover {\n  color: #5488F9;\n}\n.topMenu .menu a:first-child {\n  margin-left: 0;\n}\n.topMenu .menu .icon,\n.topMenu .menu [class^="icon"] {\n  margin-right: 5px;\n}\n.topMenu .menu .curr {\n  border-bottom: 4px solid #5488F9;\n  color: #5488F9;\n}\n.topMenu .menu .curr .icon-unactive {\n  display: none;\n}\n.topMenu .menu .curr .icon-active {\n  display: inline-block;\n}\n.router-view {\n  width: 1200px;\n  margin: 0 auto;\n}\n#email_marketing.operate-container {\n  float: right;\n  margin-top: 0px;\n  font-size: 0px;\n}\n#email_marketing.operate-container a {\n  margin-left: 0px;\n}\n#email_marketing.operate-container .email-search {\n  width: 240px;\n  margin-right: 16px;\n}\n#email_marketing.operate-container .email-search .el-icon-search:hover + .el-input__inner {\n  border-color: #CBD6E3;\n}\n#email_marketing.operate-container .el-autocomplete {\n  width: 240px;\n  margin-right: 10px;\n}\n#email_marketing.operate-container .el-autocomplete .el-input__inner {\n  height: 34px;\n  font-size: 13px;\n}\n#email_marketing.operate-container .el-autocomplete .el-input-group__append {\n  padding: 0px 10px;\n}\n#email_marketing.operate-container .el-autocomplete .el-input-group__append .contact-list-search {\n  padding: 9px 8px;\n}\n#email_marketing.operate-container .el-button {\n  font-size: 13px;\n}\n.topMenu .menu li {\n  position: relative;\n}\n.topMenu .menu li .mark {\n  position: absolute;\n  right: -27px;\n  top: 2px;\n  background: #FF3B6E;\n  color: #fff;\n  font-size: 12px;\n  padding: 2px 3px;\n  border-radius: 2px;\n  -webkit-transform: scale(0.75);\n          transform: scale(0.75);\n}\n'],sourceRoot:""}])},1404:function(e,t,n){var i=n(1216);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n(316)("4756a0f4",i,!0)},1722:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"topMenu"},[n("div",{staticClass:"top-title"},[e._v("客户开发")]),e._v(" "),n("ul",{staticClass:"menu"},[e._l(e.menuList,function(t,i){return"/develop"!==t.url||"0"!==e.serverLevel?n("router-link",{key:i,attrs:{to:{path:t.url}}},[n("li",{class:{curr:i===e.selectedSubNav},domProps:{innerHTML:e._s(t.title)},on:{click:function(t){e.changeMenu(i)}}})]):e._e()}),e._v(" "),3==e.selectedSubNav&&e.isShowSearch?n("div",{staticClass:"operate-container",attrs:{id:"email_marketing"}},[n("el-input",{staticClass:"email-search",attrs:{placeholder:"请输入推广标题",icon:"search","on-icon-click":e.search},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.search(t)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),e._v(" "),0!=e.max?n("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:e.addEmailMarketFunc}},[e._v("新增邮件推广")]):n("el-button",{staticClass:"btn",attrs:{type:"primary"}},[e._v("新增邮件推广")])],1):e._e()],2)]),e._v(" "),n("div",{staticClass:"router-view"},[n("router-view")],1)])},staticRenderFns:[]}},329:function(e,t,n){n(1404);var i=n(89)(n(967),n(1722),null,null);e.exports=i.exports},443:function(e,t,n){"use strict";t.__esModule=!0;var i=n(91),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}},535:function(e,t,n){"use strict";var i=n(10),r="https://server.onloon.cc",a={getLinker:function(e){return i.a.get(r+"/bshop/contacts/list",e)},getSendNum:function(e){return i.a.get(r+"/bshop/client/mail/marketing/account",e)},channelShopList:function(e){return i.a.get(r+"/bshop/channel/shop/list",e)},getMarketStatistic:function(){return i.a.get(r+"/bshop/client/mail/marketing/statistic/overall")},getMarketList:function(e){return i.a.post(r+"/bshop/client/mail/marketing/page",e)},getMarketDetail:function(e){return i.a.get(r+"/bshop/client/mail/marketing/detail",e)},deleteMarket:function(e){return i.a.post(r+"/bshop/client/mail/marketing/delete",e)},addMarketSend:function(e){return i.a.post(r+"/bshop/client/mail/marketing/add/send",e)},addDraft:function(e){return i.a.post(r+"/bshop/client/mail/marketing/add/draft",e)},updateMarketSend:function(e){return i.a.post(r+"/bshop/client/mail/marketing/update/send",e)},updateDraft:function(e){return i.a.post(r+"/bshop/client/mail/marketing/update/draft",e)},getChannelList:function(){return i.a.get(r+"/bshop/channel/shop/list")},getReceiverStatis:function(e){return i.a.post(r+"/bshop/client/mail/marketing/receiver/statistic",e)},getReceiverList:function(e){return i.a.post(r+"/bshop/client/mail/marketing/receiver/page",e)},getContact:function(){return i.a.get(r+"/bshop/company/contact/find")},getGroups:function(e){return i.a.get(r+"/bshop/contacts/group/list",e)},getLinkerNum:function(e){return i.a.post(r+"/bshop/client/mail/marketing/receiver/count",e)},getEmailReceivers:function(e){return i.a.post(r+"/bshop/client/mail/marketing/receiver/page",e)},getEmailReceiversDetail:function(e){return i.a.post(r+"/bshop/client/mail/marketing/receiver/detail",e)},getmailSeriesAll:function(e){return i.a.get(r+"/bshop/client/mail/marketing/statistic/report",e)}};t.a=a},967:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(443),r=n.n(i),a=n(535),o=n(95);t.default={data:function(){return{selectedSubNav:0,serverLevel:"1",searchText:"",isShowSearch:!0,isBind:!1,max:localStorage.getItem("max"),total:localStorage.getItem("total"),hitPer:0,menuListCopy:[],menuList:[{title:'<i class="icon-font">&#xe6ae;</i>外贸侦探',url:"/tradeDetect",code:"BD"},{title:'<i class="icon-font">&#xe690;</i>发现客户',url:"/develop",code:"BA"},{title:'<i class="icon-font">&#xe67e;</i>社交推广',url:"/extension",code:"BB"},{title:'<i class="icon-font">&#xe6c2;</i>邮件营销',url:"/emailmarketing",code:"BC"}],pageName:this.$route.path}},mounted:function(){this.serverLevel=window.localStorage.serverLevel,this.menuListCopy=this.menuList,this.rightCompute(this.menuList),this.isBindEmail()},computed:r()({},n.i(o.b)(["allRights"])),methods:{isRouterInRightArray:function(){var e=this.$router.currentRoute.fullPath;this.menuList.some(function(t){return t.url===e})||this.$router.push({path:"/index"})},setSelectedTab:function(){this.$store.dispatch("setNavIndex","");for(var e in this.menuList)this.$route.path===this.menuList[e].url&&(this.selectedSubNav=parseInt(e));this.$route.path.indexOf("emailmarket")>0&&(this.selectedSubNav=3);var t=localStorage.userId,n=JSON.parse(localStorage["topBar"+t]);for(var i in n)"客户开发"===n[i].title&&this.$store.dispatch("setNavIndex",parseInt(i))},rightCompute:function(e){if(sessionStorage.functions){var t=JSON.parse(sessionStorage.functions),n=[];for(var i in e)this.isInRightArray(e[i],t)&&("BC"===e[i].code?"1"!==this.serverLevel&&"2"!==this.serverLevel||n.push(e[i]):n.push(e[i]));this.menuList=n,this.setSelectedTab()}},isInRightArray:function(e,t){return t.some(function(t){return t.code===e.code})},changeMenu:function(e){this.selectedSubNav=e},querySearchAsync:function(e,t){if(e.length<2)return void t([]);this.curTimer&&clearTimeout(this.curTimer)},isBindEmail:function(){var e=this;a.a.getChannelList().then(function(t){if(0===t.data.code){var n=t.data.data,i=e;n.forEach(function(e){"MAIL"===e.channelId&&(""!==e.emailAddress&&null!==e.emailAddress&&1===e.bindingTag?i.isBind=!0:i.isBind=!1)})}else e.isBind=!1})},createStateFilter:function(e){return function(t){return-1!==t.value.indexOf(e.toLowerCase())}},search:function(){if(""===this.searchText||null===this.searchText)return void this.$message.error("请输入推广标题");this.$store.commit("DEVELOP_KEYWORD",{keyWord:this.searchText})},addEmailMarketFunc:function(){this.isBind?parseInt(this.total)>=parseInt(this.max)?this.$message.error("发送邮件达到上限"):(this.$store.commit("DEVELOP_SENDINFO",{first:{},second:[],third:{},four:{}}),this.$store.commit("DEVELOP_ISMENUCLICK",!1),this.$router.push({path:"/emailTopMenu"})):this.$message.error("请先绑定邮箱")},getMarketStatisticFunc:function(){var e=this;a.a.getMarketStatistic().then(function(t){if(0===t.data.code){var n=t.data.data;e.max=n.max,e.total=n.total,e.arrivePer=n.arrivePer,e.readPer=n.readPer,e.hitPer=n.hitPer,localStorage.setItem("max",e.max),localStorage.setItem("total",e.total),localStorage.setItem("arrivePer",e.arrivePer),localStorage.setItem("readPer",e.readPer),localStorage.setItem("hitPer",e.hitPer)}})}},watch:{$route:function(e,t){e.path.indexOf("emailmarketing")>0?this.isShowSearch=!0:this.isShowSearch=!1},allRights:function(){this.rightCompute(this.menuListCopy),this.isRouterInRightArray()}}}}});
//# sourceMappingURL=67.7b1150049c323b7f22bf.js.map